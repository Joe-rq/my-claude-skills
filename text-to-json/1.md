> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [www.fofr.ai](https://www.fofr.ai/prompting-with-json)

> JSON prompts are a way of giving a model structured information. They act as a template that makes ou......

GuideNano Banana ProJSONAdvanced

JSON prompts are a way of giving a model structured information. They act as a template that makes outputs more repeatable. People don't usually write a JSON prompt by hand, or from scratch, they'll use a tool, like a language model, to form the template, and then tweak the details. These templates then become a powerful way to create variations on a theme.

Nano Banana Pro has a way of interpreting a minimal prompt. If you ask for photos of a dog, you'll notice they're all different but similar. Usually beautiful, warm, detailed, a little bit rustic and candid. By using a JSON prompt, you're more easily in direct control of the subject, style, composition and lighting from the start. You don't need to remember what to define. This helps to avoid those defaults and get the look you want.

It doesn't have to be JSON. Any structured data will work, I personally like to use yaml. The community has settled on JSON.

When you should use JSON
------------------------

I recommend using JSON when you:

*   have a long or complex prompt
*   want to change details while maintaining the overall style
*   want to escape any default look by defining most details explicitly
*   have a starting JSON template that you want to use as a base
*   have an existing image or output you want to emulate

Your first JSON prompt
----------------------

Here's a template you can start with, it is a prompt that avoids many of the model's defaults and shows the level of fidelity that gives good results.

In this template we define the following sections:

*   subject: demographics, face, hair, body, pose and attire
*   background: the color, texture and depth
*   style: the medium, the artistic reference, the color palette
*   technical: the camera, the resolution
*   lighting: the type, the source, the details
*   post processing: the look, the grading
*   constraints: what to keep and what to avoid

Image to JSON
-------------

The easiest way to get a good starting JSON prompt is to use an image as a reference. I use Gemini 3 Pro to generate a JSON prompt because it has the best vision capabilities (at the moment).

Here's the system instruction I use. Where it says [INSERT YOUR SAMPLE PROMPT HERE], you can use the template prompt above.

Here's an example (with a tricky input image) and the final output. The JSON that Gemini 3 Pro generated to produce the output is further below. No reference image was passed in.

Now we have:

*   a reusable JSON definition of the input image, one we can modify and create variations of
*   a similar output image to the original, showing how well Gemini 3 Pro and Nano Banana Pro can capture the essence of a given image

```
{
  "subject": {
    "main": "First-person POV hand holding a smartphone",
    "hand_details": {
      "appearance": "Male hand, light skin tone",
      "grip": "Holding an iPhone vertically, thumb hovering near the bottom bezel",
      "lighting": "Illuminated by the screen's glow and warm ambient room light"
    },
    "device": {
      "type": "Modern smartphone with notch (iPhone style)",
      "case": "Black slim case",
      "screen_state": "On, displaying photo gallery app"
    }
  },
  "screen_content": {
    "interface": {
      "app": "iOS Photos App",
      "header": "Time '22:22', Back arrow '< Gallery', Title 'For You'",
      "footer_tabs": "Gallery, For You (selected), Photos, Search"
    },
    "image_grid": {
      "layout": "3-column grid of thumbnails",
      "subject_matter": "Repeated photos of a woman with curly dark shoulder-length hair",
      "attire": "Cobalt blue textured cardigan, white top, beige pants",
      "activity": "Sitting by a window, sketching in a notebook/pad, holding up a drawing",
      "consistency": "Same woman in various poses, some candid, some looking at camera smiling"
    }
  },
  "environment": {
    "setting": "Cozy living room at night",
    "left_side": {
      "furniture": "Tall dark wood bookshelf packed with colorful book spines",
      "lighting": "Small mushroom-style lamp emitting warm yellow light on shelf",
      "decor": "Two plush toys on a side table: A large Snorlax wearing sunglasses and a smaller Eevee"
    },
    "center_right": {
      "electronics": "Large wall-mounted flat screen TV displaying a night cityscape (Hong Kong skyline aesthetic) and digital clock overlay '22:24'",
      "audio": "Black soundbar mounted below TV",
      "furniture": "Wooden media console, wooden coffee table in foreground (out of focus)"
    },
    "foliage": {
      "plant": "Monstera deliciosa leaves visible near the top, backlit by warm light"
    }
  },
  "photography": {
    "style": "POV Lifestyle Snapshot",
    "focus": "Sharp focus on the smartphone screen, shallow depth of field (strong bokeh) on background",
    "lighting": {
      "type": "Low-light indoor ambience",
      "sources": [
        "Warm tungsten lamp on bookshelf",
        "Cool blue light from TV screen",
        "Bright white light from phone display"
      ],
      "contrast": "High contrast between the bright phone screen and the dim, cozy room"
    },
    "camera_gear": {
      "lens": "24mm or 28mm wide angle",
      "aperture": "f/1.8 to f/2.0 (creating background blur)",
      "iso": "High ISO (slight grain visible in shadows)"
    }
  },
  "aesthetic_fidelity": {
    "medium": "Digital Photography",
    "vibe": "Domestic, cozy, tech-focused, intimate evening",
    "visual_qualities": [
      "Realistic screen reflection",
      "Warm color temperature",
      "Soft background blur",
      "Digital noise in dark areas"
    ]
  },
  "constraints": {
    "must_keep": [
      "Snorlax plushie with sunglasses",
      "Eevee plushie",
      "Time on phone 22:22",
      "Grid of photos showing woman in blue cardigan",
      "Cityscape on TV background",
      "Monstera leaves",
      "Warm bookshelf lighting"
    ],
    "avoid": [
      "Daylight",
      "Empty screen",
      "Blurry phone screen",
      "Third-person perspective",
      "Bright overhead lighting",
      "Vector art style"
    ]
  },
  "negative_prompt": [
    "blurry screen",
    "daylight",
    "sunlight",
    "empty room",
    "turned off tv",
    "cartoon filter",
    "illustration",
    "drawing style",
    "messy grid",
    "cracked screen",
    "bright white background",
    "missing plushies",
    "generic landscape on tv"
  ]
}

```

Let's take this JSON and modify it, we'll keep the general vibe, but make it early 2000s instead. You can do this bit by hand, or again you can have a language model make the changes for you. Note the change in the phone, the TV and the stereo:

Make variations easily
----------------------

You can have Nano Banana Pro automatically make the variations for you. It's as simple as prefixing your prompt with instructions to change the JSON:

You can also steer these variations too:

The following are all variations of [the same JSON prompt](https://gist.github.com/fofr/eec0dae326243321c645aceba28c6119) using these techniques:

Another set of variations, with a different subject:

The downside to this approach is that you trade variability for prompt accuracy. Your prompt no longer accurately describes the image you get.

Putting it all together
-----------------------

Using [AI Studio](https://ai.studio/), you can pull all of this together into a single app that let's you:

*   Generate a JSON prompt from an image
*   Refine a JSON prompt
*   Create variations from a JSON prompt

Here's a video of the app in action:

JSON to prose
-------------

You don't have to use JSON. For any given JSON prompt, there's a prose version that will work just as well. If you've seen a good JSON prompt, you can ask a language model to convert it to prose for you:

An example of a complex prompt without JSON:

### Hybrid prompting

You don't need to prompt in JSON only or prose only. You can start with prose, and then add JSON to the prompt to get more control over the output.

For example, if you have a JSON snippet you like that gives an image that looks a certain way, you can include that at the end of your regular prompt. Nano Banana Pro will handle it. Your prompt doesn't need to be valid JSON, the model doesn't care.

Conclusion
----------

JSON prompting isn't necessary for every image, but when you have a specific vision or an existing template, and the right tooling, it's very powerful.